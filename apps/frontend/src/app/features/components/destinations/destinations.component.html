@let destinations = homeStore.destinations();

<section id="destinations" class="bg-slate-50 py-24 overflow-hidden">
  <div class="max-w-7xl mx-auto px-6 mb-16 flex justify-between items-end">
    <div class="max-w-2xl">
      <h2 class="text-blue text-6xl font-black leading-none mb-4 uppercase tracking-tighter">
        Gdzie dalej?
      </h2>
      <p class="font-serif italic text-2xl leading-relaxed">
        Odkryj starannie wyselekcjonowane kierunki, które zmienią Twoje spojrzenie na świat.
      </p>
    </div>
  </div>

  <div class="relative w-full max-w-[1600px] mx-auto group">
    <button
      (click)="scroll('left')"
      class="absolute left-4 md:left-10 top-1/2 -translate-y-1/2 z-30 bg-white/90 backdrop-blur-md text-slate-900 p-5 rounded-full shadow-2xl hover:bg-blue/30 hover:text-white transition-all border border-slate-100 opacity-0 group-hover:opacity-100 focus:opacity-100"
      aria-label="Poprzedni"
    >
      <i-tabler name="chevron-left" class="w-8 h-8"></i-tabler>
    </button>

    <div
      #slider
      (scroll)="onScroll($event)"
      class="flex gap-8 overflow-x-auto scroll-smooth snap-x no-scrollbar pb-10 px-6 md:px-20"
    >
      @for (dest of destinations; track dest.name) {
        <div
          class="min-w-[85vw] md:min-w-[600px] h-[500px] md:h-[650px] snap-center group/card relative rounded-[3rem] overflow-hidden cursor-pointer shadow-lg bg-white"
        >
          <img
            [src]="dest.image"
            class="w-full h-full object-cover transition-transform duration-1000 group-hover/card:scale-110"
            alt="{{ dest.name }}"
          />

          <div
            class="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent"
          ></div>

          <div class="absolute bottom-10 left-10 right-10 text-white">
            <h3 class="text-4xl md:text-5xl font-black uppercase tracking-tighter mb-2">
              {{ dest.name }}
            </h3>
            <p class="text-white/80 font-medium text-lg">
              Odkryj {{ dest.trips }} unikalnych wypraw
            </p>
          </div>
        </div>
      }
    </div>

    <button
      (click)="scroll('right')"
      class="absolute right-4 md:right-10 top-1/2 -translate-y-1/2 z-30 bg-white/90 backdrop-blur-md text-slate-900 p-5 rounded-full shadow-2xl hover:bg-blue/30 hover:text-white transition-all border border-slate-100 opacity-0 group-hover:opacity-100 focus:opacity-100"
      aria-label="Następny"
    >
      <i-tabler name="chevron-right" class="w-8 h-8"></i-tabler>
    </button>
  </div>
</section>
