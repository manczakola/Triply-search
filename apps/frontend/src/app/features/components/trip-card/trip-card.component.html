<div
  class="bg-white rounded-2xl overflow-hidden border border-gray-100 shadow-sm hover:shadow-lg transition-shadow duration-300 transform hover:-translate-y-1"
>
  <div class="relative aspect-[16/10] bg-gray-100 flex items-center justify-center">
    <img
      [src]="trip.image"
      [alt]="trip.title"
      class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"
    />

    <span
      class="absolute top-4 left-4 bg-brand-blue text-white text-[10px] font-bold px-3 py-1 rounded-md uppercase tracking-wider shadow-md"
    >
      {{ trip.organizer }}
    </span>

    @if (trip.isPromoted) {
      <span
        class="absolute top-4 right-4 bg-status-promo text-white text-[10px] font-bold px-3 py-1 rounded-md uppercase tracking-wider shadow-md -rotate-2"
      >
        Promocja -{{ ((trip.oldPrice! - trip.price) / trip.oldPrice!) * 100 | number: '1.0-0' }}%
      </span>
    }

    <button
      (click)="toggleBookmark()"
      class="absolute bottom-4 right-4 w-10 h-10 bg-white/80 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-white transition-colors duration-200 shadow-md text-gray-600 hover:text-red-500"
    >
      <i-tabler
        [name]="trip.isBookmarked ? 'heart-filled' : 'heart'"
        class="w-5 h-5"
        [ngClass]="{ 'text-red-500': trip.isBookmarked }"
      ></i-tabler>
    </button>
  </div>

  <div class="p-6">
    <h3 class="text-lg font-bold text-gray-900 leading-tight mb-2">{{ trip.title }}</h3>
    <p class="text-xs text-gray-500 flex items-center gap-1 mb-4">
      <i-tabler name="map-2" class="w-4 h-4 text-gray-400"></i-tabler> {{ trip.location }}
    </p>

    <div class="flex flex-wrap gap-2 mb-4">
      <span
        class="px-3 py-1 bg-yellow-100 text-yellow-700 text-[10px] font-bold rounded-full uppercase"
      >
        {{ trip.difficulty }}
      </span>
      @for (tag of trip.tags; track tag) {
        <span
          class="px-3 py-1 bg-gray-100 text-gray-600 text-[10px] font-bold rounded-full uppercase"
        >
          {{ tag }}
        </span>
      }
    </div>

    <div class="text-xs text-gray-500 flex items-center gap-3 mb-5">
      <span class="flex items-center gap-1">
        <i-tabler name="calendar" class="w-3.5 h-3.5"></i-tabler> {{ trip.dates }}
      </span>
      <span class="flex items-center gap-1">
        <i-tabler name="clock-hour-4" class="w-3.5 h-3.5"></i-tabler> {{ trip.duration }}
      </span>
      <span class="flex items-center gap-1">
        <i-tabler name="users" class="w-3.5 h-3.5"></i-tabler> {{ trip.participants }}
      </span>
    </div>

    <div class="flex justify-between items-end border-t border-gray-100 pt-5">
      <div>
        @if (trip.oldPrice) {
          <span class="block text-[10px] text-gray-400 line-through mb-1">
            {{ trip.oldPrice | currency: 'PLN' : 'symbol-narrow' : '1.0-0' }}
          </span>
        }
        <span class="text-xl font-black text-blue -600">
          {{ trip.price | currency: 'PLN' : 'symbol-narrow' : '1.0-0' }}
          <small class="text-[10px] text-gray-400 font-normal">/osoba</small>
        </span>
      </div>
      <button
        class="bg-blue-600 text-white px-5 py-2.5 rounded-lg text-sm font-bold hover:bg-blue-700 transition-colors duration-200 active:scale-95 shadow-md shadow-blue-200/50"
      >
        Zobacz wiÄ™cej
      </button>
    </div>
  </div>
</div>
